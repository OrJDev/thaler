{"resolvedId":"D:/Files/Github/thaler/examples/solidstart/src/components/Example.tsx","transforms":[{"name":"__load__","result":"import { createResource, createSignal, Suspense } from 'solid-js';\nimport { fn$ } from 'thaler';\nimport { debounce } from 'thaler/utils';\n\nconst sleep = (ms: number) => new Promise((res) => {\n  setTimeout(res, ms, true);\n});\n\nexport default function Example() {\n  const [state, setState] = createSignal(0);\n\n  const prefix = 'Server Count';\n\n  const serverCount = debounce(fn$(async (value: number) => {\n    await sleep(1000);\n    console.log('Received', value);\n    return `${prefix}: ${value}`;\n  }), {\n    key: () => 'sleep',\n  });\n  const [data] = createResource(state, (value) => serverCount(value));\n\n  function increment() {\n    setState((c) => c + 1);\n  }\n\n  return (\n    <>\n      <button onClick={increment}>\n        {`Client Count: ${state()}`}\n      </button>\n      <div>\n        <Suspense fallback={<h1>Loading</h1>}>\n          <h1>{data()}</h1>\n        </Suspense>\n      </div>\n    </>\n  );\n}\n","start":1681089269279,"end":1681089269279},{"name":"solid","result":"import { createComponent as _$createComponent } from \"solid-js/web\";\nimport { ssr as _$ssr } from \"solid-js/web\";\nimport { escape as _$escape } from \"solid-js/web\";\nimport { ssrHydrationKey as _$ssrHydrationKey } from \"solid-js/web\";\nconst _tmpl$ = [\"<button\", \">\", \"</button>\"],\n  _tmpl$2 = [\"<h1\", \">\", \"</h1>\"],\n  _tmpl$3 = [\"<div\", \">\", \"</div>\"],\n  _tmpl$4 = [\"<h1\", \">Loading</h1>\"];\nimport { createResource, createSignal, Suspense } from 'solid-js';\nimport { fn$ } from 'thaler';\nimport { debounce } from 'thaler/utils';\nconst sleep = ms => new Promise(res => {\n  setTimeout(res, ms, true);\n});\nexport default function Example() {\n  const [state, setState] = createSignal(0);\n  const prefix = 'Server Count';\n  const serverCount = debounce(fn$(async value => {\n    await sleep(1000);\n    console.log('Received', value);\n    return `${prefix}: ${value}`;\n  }), {\n    key: () => 'sleep'\n  });\n  const [data] = createResource(state, value => serverCount(value));\n  function increment() {\n    setState(c => c + 1);\n  }\n  return [_$ssr(_tmpl$, _$ssrHydrationKey(), `Client Count: ${_$escape(state())}`), _$ssr(_tmpl$3, _$ssrHydrationKey(), _$escape(_$createComponent(Suspense, {\n    get fallback() {\n      return _$ssr(_tmpl$4, _$ssrHydrationKey());\n    },\n    get children() {\n      return _$ssr(_tmpl$2, _$ssrHydrationKey(), _$escape(data()));\n    }\n  })))];\n}","start":1681089269279,"end":1681089269286,"order":"pre"},{"name":"thaler","result":"import { $$clone as _$$clone } from \"thaler/server\";\nimport { $$scope as _$$scope } from \"thaler/server\";\nimport { $$register as _$$register } from \"thaler/server\";\nimport { createComponent as _$createComponent } from \"solid-js/web\";\nimport { ssr as _$ssr } from \"solid-js/web\";\nimport { escape as _$escape } from \"solid-js/web\";\nimport { ssrHydrationKey as _$ssrHydrationKey } from \"solid-js/web\";\nconst _tmpl$ = [\"<button\", \">\", \"</button>\"],\n  _tmpl$2 = [\"<h1\", \">\", \"</h1>\"],\n  _tmpl$3 = [\"<div\", \">\", \"</div>\"],\n  _tmpl$4 = [\"<h1\", \">Loading</h1>\"];\nimport { createResource, createSignal, Suspense } from 'solid-js';\nimport { fn$ } from 'thaler';\nimport { debounce } from 'thaler/utils';\nconst sleep = ms => new Promise(res => {\n  setTimeout(res, ms, true);\n});\nconst _fn = _$$register(\"fn\", \"http://localhost:5173/api/__thaler/11d62f5d-0\", async value => {\n  const [prefix] = _$$scope();\n  await sleep(1000);\n  console.log('Received', value);\n  return `${prefix}: ${value}`;\n});\nexport default function Example() {\n  const [state, setState] = createSignal(0);\n  const prefix = 'Server Count';\n  const serverCount = debounce(_$$clone(_fn, () => [prefix]), {\n    key: () => 'sleep'\n  });\n  const [data] = createResource(state, value => serverCount(value));\n  function increment() {\n    setState(c => c + 1);\n  }\n  return [_$ssr(_tmpl$, _$ssrHydrationKey(), `Client Count: ${_$escape(state())}`), _$ssr(_tmpl$3, _$ssrHydrationKey(), _$escape(_$createComponent(Suspense, {\n    get fallback() {\n      return _$ssr(_tmpl$4, _$ssrHydrationKey());\n    },\n    get children() {\n      return _$ssr(_tmpl$2, _$ssrHydrationKey(), _$escape(data()));\n    }\n  })))];\n}","start":1681089269286,"end":1681089269290,"order":"pre"},{"name":"vite:define","result":"import { $$clone as _$$clone } from \"thaler/server\";\nimport { $$scope as _$$scope } from \"thaler/server\";\nimport { $$register as _$$register } from \"thaler/server\";\nimport { createComponent as _$createComponent } from \"solid-js/web\";\nimport { ssr as _$ssr } from \"solid-js/web\";\nimport { escape as _$escape } from \"solid-js/web\";\nimport { ssrHydrationKey as _$ssrHydrationKey } from \"solid-js/web\";\nconst _tmpl$ = [\"<button\", \">\", \"</button>\"],\n  _tmpl$2 = [\"<h1\", \">\", \"</h1>\"],\n  _tmpl$3 = [\"<div\", \">\", \"</div>\"],\n  _tmpl$4 = [\"<h1\", \">Loading</h1>\"];\nimport { createResource, createSignal, Suspense } from 'solid-js';\nimport { fn$ } from 'thaler';\nimport { debounce } from 'thaler/utils';\nconst sleep = ms => new Promise(res => {\n  setTimeout(res, ms, true);\n});\nconst _fn = _$$register(\"fn\", \"http://localhost:5173/api/__thaler/11d62f5d-0\", async value => {\n  const [prefix] = _$$scope();\n  await sleep(1000);\n  console.log('Received', value);\n  return `${prefix}: ${value}`;\n});\nexport default function Example() {\n  const [state, setState] = createSignal(0);\n  const prefix = 'Server Count';\n  const serverCount = debounce(_$$clone(_fn, () => [prefix]), {\n    key: () => 'sleep'\n  });\n  const [data] = createResource(state, value => serverCount(value));\n  function increment() {\n    setState(c => c + 1);\n  }\n  return [_$ssr(_tmpl$, _$ssrHydrationKey(), `Client Count: ${_$escape(state())}`), _$ssr(_tmpl$3, _$ssrHydrationKey(), _$escape(_$createComponent(Suspense, {\n    get fallback() {\n      return _$ssr(_tmpl$4, _$ssrHydrationKey());\n    },\n    get children() {\n      return _$ssr(_tmpl$2, _$ssrHydrationKey(), _$escape(data()));\n    }\n  })))];\n}","start":1681089269291,"end":1681089269291,"order":"normal"},{"name":"vite:import-analysis","result":"import { $$clone as _$$clone } from \"/@fs/D:/Files/Github/thaler/packages/thaler/dist/esm/development/server.mjs\";\nimport { $$scope as _$$scope } from \"/@fs/D:/Files/Github/thaler/packages/thaler/dist/esm/development/server.mjs\";\nimport { $$register as _$$register } from \"/@fs/D:/Files/Github/thaler/packages/thaler/dist/esm/development/server.mjs\";\nimport { createComponent as _$createComponent } from \"solid-js/web\";\nimport { ssr as _$ssr } from \"solid-js/web\";\nimport { escape as _$escape } from \"solid-js/web\";\nimport { ssrHydrationKey as _$ssrHydrationKey } from \"solid-js/web\";\nconst _tmpl$ = [\"<button\", \">\", \"</button>\"],\n  _tmpl$2 = [\"<h1\", \">\", \"</h1>\"],\n  _tmpl$3 = [\"<div\", \">\", \"</div>\"],\n  _tmpl$4 = [\"<h1\", \">Loading</h1>\"];\nimport { createResource, createSignal, Suspense } from 'solid-js';\nimport { fn$ } from '/@fs/D:/Files/Github/thaler/packages/thaler/dist/esm/development/index.mjs';\nimport { debounce } from '/@fs/D:/Files/Github/thaler/packages/thaler/dist/esm/development/utils.mjs';\nconst sleep = ms => new Promise(res => {\n  setTimeout(res, ms, true);\n});\nconst _fn = _$$register(\"fn\", \"http://localhost:5173/api/__thaler/11d62f5d-0\", async value => {\n  const [prefix] = _$$scope();\n  await sleep(1000);\n  console.log('Received', value);\n  return `${prefix}: ${value}`;\n});\nexport default function Example() {\n  const [state, setState] = createSignal(0);\n  const prefix = 'Server Count';\n  const serverCount = debounce(_$$clone(_fn, () => [prefix]), {\n    key: () => 'sleep'\n  });\n  const [data] = createResource(state, value => serverCount(value));\n  function increment() {\n    setState(c => c + 1);\n  }\n  return [_$ssr(_tmpl$, _$ssrHydrationKey(), `Client Count: ${_$escape(state())}`), _$ssr(_tmpl$3, _$ssrHydrationKey(), _$escape(_$createComponent(Suspense, {\n    get fallback() {\n      return _$ssr(_tmpl$4, _$ssrHydrationKey());\n    },\n    get children() {\n      return _$ssr(_tmpl$2, _$ssrHydrationKey(), _$escape(data()));\n    }\n  })))];\n}","start":1681089269291,"end":1681089269315,"order":"normal"}]}
